<!-- Button trigger modal -->
<br />

<button type="button" class="btn btn-dark" (click)="openModal()">
  <i class="bi bi-plus-circle-fill"></i>
  Nouveau Produit
</button>
<br />
<!-- Modal -->
<div class="modal" tabindex="-1" role="dialog" [ngStyle]="{ display: display }">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-body">
        <template *ngTemplateOutlet="formProduct"></template>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" (click)="closeModal()">
          Close
        </button>
      </div>
    </div>
  </div>
</div>
<!-- Form -->
<ng-template #formProduct>
  <form (ngSubmit)="ajoutarticle()">
    <div class="mb-3">
      <input
        type="text"
        class="form-control"
        id="reference"
        name="reference"
        placeholder="designation"
        [(ngModel)]="products.designation"
      />
    </div>
    <div class="mb-3">
      <input
        required
        minlength="4"
        #designation="ngModel"
        type="text"
        class="form-control"
        id="image"
        name="image"
        placeholder="image"
        [(ngModel)]="products.image"
      />
    </div>
    <div
      *ngIf="designation.invalid && (designation.dirty || designation.touched)"
      class="alert"
    >
      <div
        *ngIf="designation.errors?.['required']"
        [ngStyle]="{ color: 'red' }"
      >
        Saisir la désignation
      </div>
      <div
        *ngIf="designation.errors?.['minlength']"
        [ngStyle]="{ color: 'red' }"
      >
        La désignation doit avoir au moins 4 caractères
      </div>
    </div>
    <div class="mb-3">
      <input
        type="number"
        class="form-control"
        id="prix"
        name="prix"
        placeholder="Prix"
        [(ngModel)]="products.prix"
      />
    </div>
    <div class="mb-3">
      <input
        type="date"
        class="form-control"
        id="dateAchat"
        name="dateAchat"
        placeholder="dateAchat"
        [(ngModel)]="products.dateAchat"
      />
    </div>

    <div>
      <button type="submit" class="btn btn-success" (clic)="ajoutarticle()">
        Enregistrer
      </button>
    </div>
  </form>
</ng-template>
